# 🎯 IBS 통합 시스템 - 완전 배포 가이드

## 📋 시스템 개요

**IBS 통합 견적 관리 시스템**은 견적서 → 거래명세서 → 인보이스의 완전한 연동을 제공하는 웹 기반 시스템입니다.

### 🔗 주요 기능
- **견적서 작성 및 관리**: 자동 계산, 구글시트 저장
- **거래명세서 연동**: 견적서 데이터 자동 불러오기
- **인보이스 생성**: 견적서/거래명세서 기반 자동 생성
- **Analytics Widget**: 실시간 통계 및 차트
- **구글시트 통합**: 모든 데이터 중앙 관리

## 🛠️ 1단계: Google Apps Script 배포

### 1.1 스크립트 생성
1. [Google Apps Script](https://script.google.com) 접속
2. "새 프로젝트" 클릭
3. 프로젝트명: `IBS_통합_시스템`

### 1.2 코드 배포
```javascript
// FINAL_INTEGRATED_APPS_SCRIPT.js 파일의 내용을 복사하여 붙여넣기
```

### 1.3 배포 설정
1. **배포** → **새 배포** 클릭
2. **유형 선택**: 웹 앱
3. **설명**: IBS 통합 시스템 API
4. **실행 권한**: 나
5. **액세스 권한**: 모든 사용자
6. **배포** 클릭
7. **웹 앱 URL 복사** (중요!)

### 1.4 권한 승인
- 구글 계정 로그인 및 권한 승인
- 스프레드시트 읽기/쓰기 권한 허용

## 📊 2단계: 구글시트 설정

### 2.1 시트 생성
구글시트 ID: `1MUHiU8a0p1aBs0wU94gmmlugwmB9qSYO8NLl-qZ9-ho`

### 2.2 필수 시트 탭 생성
1. **IBS_견적서_목록**
2. **IBS_거래명세서_목록**
3. **IBS_인보이스_목록**
4. **IBS_통계_대시보드**

### 2.3 헤더 설정
각 시트의 첫 번째 행에 적절한 헤더 설정

## 🌐 3단계: HTML 파일 설정

### 3.1 API URL 업데이트
모든 HTML 파일에서 다음 URL을 업데이트:

```javascript
const IBS_CONFIG = {
    API_URL: 'YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL',
    TIMEOUT: 5000,
    REFRESH_INTERVAL: 5 * 60 * 1000
};
```

### 3.2 파일 목록
- `ibs_quotation_improved.html` ✅ 완료
- `interactive_delivery_statement.html` ✅ 완료  
- `professional_invoice_a4_optimized.html` ⚠️ 인코딩 문제 (수정 필요)

## 🔧 4단계: 통합 연동 테스트

### 4.1 견적서 → 거래명세서 연동 테스트
1. 견적서 작성 완료
2. "거래명세서로 전송" 버튼 클릭
3. 새 창에서 거래명세서 자동 로드 확인
4. 데이터 정확성 검증

### 4.2 Analytics Widget 테스트
1. 각 HTML 파일에서 위젯 표시 확인
2. 구글시트 연결 상태 확인
3. 통계 데이터 정확성 검증
4. 차트 표시 확인

### 4.3 구글시트 저장 테스트
1. 견적서 저장 테스트
2. 거래명세서 저장 테스트
3. 인보이스 저장 테스트
4. 데이터 무결성 확인

## 📈 5단계: 성능 최적화

### 5.1 로딩 속도 개선
- 5초 타임아웃 설정으로 응답성 향상
- AbortController로 중복 요청 방지
- 로딩 상태 명확한 표시

### 5.2 오류 처리 강화
- 네트워크 오류 시 적절한 메시지 표시
- 오프라인 모드 지원
- 데이터 검증 강화

### 5.3 사용자 경험 개선
- 직관적인 UI/UX
- 명확한 상태 표시
- 자동 새로고침 기능

## 🚀 6단계: 배포 및 운영

### 6.1 웹 호스팅
- GitHub Pages 또는 Netlify 사용 권장
- HTTPS 필수 (구글 API 연동을 위해)

### 6.2 도메인 설정
- 사용자 친화적인 도메인 설정
- SSL 인증서 적용

### 6.3 백업 및 보안
- 정기적인 구글시트 백업
- API 키 보안 관리
- 사용자 권한 관리

## 🔍 7단계: 문제 해결

### 7.1 일반적인 문제
**Q: "불러오는 중..." 상태에서 멈춤**
A: 5초 타임아웃 후 자동으로 오프라인 모드로 전환됩니다.

**Q: 견적서 데이터가 거래명세서로 전송되지 않음**
A: localStorage 확인 및 브라우저 새로고침 시도

**Q: Analytics Widget이 표시되지 않음**
A: Chart.js 로딩 확인 및 API URL 검증

### 7.2 디버깅 방법
1. 브라우저 개발자 도구 → Console 탭 확인
2. Network 탭에서 API 호출 상태 확인
3. Google Apps Script 로그 확인

## 📊 8단계: 모니터링 및 유지보수

### 8.1 성능 모니터링
- API 응답 시간 모니터링
- 오류 발생률 추적
- 사용자 피드백 수집

### 8.2 정기 업데이트
- 보안 패치 적용
- 기능 개선 사항 반영
- 사용자 요구사항 반영

## ✅ 배포 체크리스트

### 필수 확인 사항
- [ ] Google Apps Script 배포 완료
- [ ] 웹 앱 URL 모든 HTML 파일에 적용
- [ ] 구글시트 권한 설정 완료
- [ ] 견적서 → 거래명세서 연동 테스트 통과
- [ ] Analytics Widget 정상 작동
- [ ] 모든 저장 기능 테스트 통과
- [ ] 오류 처리 테스트 완료
- [ ] 브라우저 호환성 확인
- [ ] 모바일 반응형 확인
- [ ] 보안 설정 완료

### 선택 사항
- [ ] 커스텀 도메인 설정
- [ ] 고급 Analytics 설정
- [ ] 자동 백업 시스템 구축
- [ ] 사용자 매뉴얼 작성

## 🎉 완료!

모든 단계를 완료하면 **IBS 통합 견적 관리 시스템**이 완전히 배포됩니다.

### 📞 지원 및 문의
- 기술 지원: ibs@ibs-info.com
- 전화: 010-3664-6268
- 웹사이트: web.ibs-info.com

---

**© 2024 아이비에스(I.B.S) - INNOVATION BRIDGE SOLUTION** 